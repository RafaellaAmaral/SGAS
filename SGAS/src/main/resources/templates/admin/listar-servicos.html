<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pet Amigo - Serviços</title>
    <link rel="stylesheet" href="/css/cadastro-adm.css">
</head>

<body>
    <header id="header-login">
        <div class="logo">
            <img src="/images/patas.png" alt="Logo de pata Pet Amigo">
            <h1>Pet Amigo</h1>
        </div>
		
		<ul sec:authorize="isAuthenticated()" >
			    <button class="log" th:text="${principal.nome}"></button>
				<a href="/administrador"  th:if="${principal != null && principal.isAdministrador}">
				<button class="log">Área do Administrador</button>
				</a>
		    </ul>
			        
			<div  sec:authorize="isAuthenticated() == false" >
			   <a href="/login"><button class="log">Faça Login</button></a>
			</div>    
    </header>

    <header id="header-1">
        <nav>
            <a href="/administrador/pag-inicial">Home</a>
            <div class="dropdown">
                <a href="#">Gestão de doações</a>
                <div class="dropdown-content">
                    <a href="#">Cadastrar doação</a>
                    <a href="#">Ver doações</a>
                </div>
            </div>

            <div class="dropdown">
                <a href="#">Animais para adoção</a>
                <div class="dropdown-content">
                    <a href="/administrador/cadastrar-animal">Cadastrar animal</a>
                    <a href="/administrador/listar-animais">Listar animais</a>
                </div>
            </div>

            <div class="dropdown">
                <a href="#">Serviços</a>
                <div class="dropdown-content">
                    <a href="/administrador/cadastrar-servico">Cadastrar serviço</a>
                    <a href="/administrador/listar-servicos">Listar serviços</a>
                </div>
            </div>

            <div class="dropdown">
                <a href="#">Voluntários</a>
                <div class="dropdown-content">
                    <a href="/administrador/listacandidaturas">Ver candidaturas</a>
                    <a href="#">Adicionar tarefa</a>
                    <a href="#">Candidatos</a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="form-container">
            <h2>Serviços cadastrados</h2>

            <table border="1" cellpadding="5">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Título</th>
                        <th>Descrição</th>
                        <th>Data</th>
                        <th>Turno</th>
                        <th>Tipo</th>
                        <th>Vagas</th>
                        <th>Ações</th>
                    </tr>
                </thead>

                <tbody>
                    <tr th:each="s : ${servicos}">
                        <td th:text="${s.id}"></td>
                        <td th:text="${s.titulo}"></td>
                        <td th:text="${s.descricao}"></td>
                        <td th:text="${#temporals.format(s.data, 'dd/MM/yyyy')}"></td>
                        <td th:text="${s.turno}"></td>
                        <td th:text="${s.tipo}"></td>
                        <td th:text="${s.vagas}"></td>
                        <td>
                            <a th:href="@{'/administrador/editar-servico/' + ${s.id}}" class="btn editar">Editar</a> |
                            <a th:href="@{'/administrador/remover-servico/' + ${s.id}}"
                               onclick="return confirm('Tem certeza que deseja remover?')"
                               class="btn remover">Excluir</a>
                        </td>
                    </tr>
                </tbody>
            </table>

            <br>
            <a href="/administrador/cadastrar-servico">Cadastrar novo serviço</a>

            <div th:if="${mensagem}" class="alert alert-success"
                style="margin: 20px; padding: 10px; background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; border-radius: 5px;">
                <p th:text="${mensagem}"></p>
            </div>
        </div>
    </main>

    <footer>
        <div class="sobre">
            <img src="/images/pata.png" alt="Ícone de pata">
            <p>Lorem Ipsum is simply dummy text.</p>
        </div>

        <div class="qrcode">
            <img src="/images/qrsgas.png" alt="QR Code" id="qr-code">
            <button>SitePetAmigo.br</button>
        </div>

        <div class="contato">
            <h3>Contato</h3>
            <p><img src="/images/icone-wpp.webp" alt="Whatsapp"> (31) 98528-6875</p>
            <p><img src="/images/paw-print.png" alt="Email"> cachorros123@gmail.com</p>
        </div>

        <div class="coracao">
            <img src="/images/transferir.webp" alt="Coração com pata">
        </div>
    </footer>

</body>
</html>